<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Twins in Oncology - Advanced Personalized Cancer Care Simulator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f7fa;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        header {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            padding: 0.5rem 1rem;
            border-radius: 25px;
        }

        .nav-links a:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .hero {
            text-align: center;
            padding: 4rem 0;
            color: white;
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            animation: fadeInUp 1s ease-out;
        }

        .hero p {
            font-size: 1.3rem;
            margin-bottom: 2rem;
            opacity: 0.9;
            animation: fadeInUp 1s ease-out 0.2s both;
        }

        .cta-button {
            display: inline-block;
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 1rem 2rem;
            text-decoration: none;
            border-radius: 50px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            animation: fadeInUp 1s ease-out 0.4s both;
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .section {
            background: white;
            margin: 2rem 0;
            padding: 3rem 0;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .section h2 {
            text-align: center;
            color: #2c3e50;
            font-size: 2.5rem;
            margin-bottom: 2rem;
            position: relative;
        }

        .section h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            border-radius: 2px;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .card {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            border-left: 5px solid transparent;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .card.breast { border-left-color: #e74c3c; }
        .card.lung { border-left-color: #3498db; }
        .card.colorectal { border-left-color: #2ecc71; }
        .card.prostate { border-left-color: #9b59b6; }
        .card.blood { border-left-color: #f39c12; }
        .card.brain { border-left-color: #34495e; }
        .card.head-neck { border-left-color: #e67e22; }
        .card.ovarian { border-left-color: #8e44ad; }
        .card.pancreatic { border-left-color: #d35400; }

        .card h3 {
            color: #2c3e50;
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .card p {
            color: #666;
            margin-bottom: 1rem;
        }

        .stats {
            display: flex;
            justify-content: space-around;
            text-align: center;
            margin: 2rem 0;
        }

        .stat {
            padding: 1rem;
        }

        .stat h3 {
            font-size: 2.5rem;
            color: #e74c3c;
            margin-bottom: 0.5rem;
        }

        .stat p {
            color: #666;
            font-weight: 500;
        }

        .treatment-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            margin: 2rem 0;
            padding: 3rem 0;
            border-radius: 20px;
        }

        .treatment-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .treatment-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 2rem;
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .treatment-card:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-3px);
        }

        .side-effects {
            background: #f8f9fa;
            padding: 2rem;
            border-radius: 10px;
            margin: 1rem 0;
        }

        .side-effects h4 {
            color: #e74c3c;
            margin-bottom: 1rem;
        }

        .side-effects ul {
            list-style-type: none;
            padding-left: 0;
            color: #2c3e50;
        }

        .side-effects li {
            padding: 0.3rem 0;
            border-bottom: 1px solid #eee;
            color: #2c3e50;
        }

        .side-effects li:before {
            content: "‚ö†Ô∏è";
            margin-right: 0.5rem;
        }

        .digital-twin-demo {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 3rem 0;
            border-radius: 20px;
            margin: 2rem 0;
            text-align: center;
        }

        .demo-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        .dashboard {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 30px;
            margin-top: 40px;
        }

        .input-panel {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 102, 204, 0.2);
            border-radius: 20px;
            padding: 30px;
            animation: fadeInLeft 1s ease-out;
        }

        .input-panel h2 {
            color: #0066cc;
            margin-bottom: 25px;
            font-size: 1.8em;
        }

        .input-group {
            margin-bottom: 25px;
        }

        .input-group label {
            display: block;
            color: #333;
            margin-bottom: 10px;
            font-weight: 500;
        }

        .input-group input,
        .input-group select {
            width: 100%;
            padding: 12px;
            background: rgba(230, 240, 250, 0.5);
            border: 2px solid rgba(0, 102, 204, 0.3);
            border-radius: 10px;
            color: #333;
            font-size: 1em;
            transition: all 0.3s;
        }

        .input-group input:focus,
        .input-group select:focus {
            outline: none;
            border-color: #0066cc;
            background: rgba(230, 240, 250, 0.7);
            box-shadow: 0 0 20px rgba(0, 102, 204, 0.3);
        }

        .advanced-toggle {
            background: rgba(0, 102, 204, 0.1);
            border: 1px solid #0066cc;
            color: #0066cc;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            margin-bottom: 20px;
            transition: all 0.3s;
            font-weight: 600;
        }

        .advanced-toggle:hover {
            background: rgba(0, 102, 204, 0.2);
            box-shadow: 0 5px 20px rgba(0, 102, 204, 0.3);
        }

        .advanced-options {
            display: none;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(0, 102, 204, 0.2);
        }

        .advanced-options.active {
            display: block;
            animation: slideDown 0.3s ease-out;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .generate-btn {
            width: 100%;
            background: linear-gradient(135deg, #0066cc, #3399ff);
            color: white;
            border: none;
            padding: 18px;
            font-size: 1.2em;
            font-weight: 600;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .generate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 102, 204, 0.4);
        }

        .generate-btn:active {
            transform: translateY(0);
        }

        .generate-btn.loading {
            pointer-events: none;
            opacity: 0.8;
        }

        .generate-btn.loading::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: loading 1.5s infinite;
        }

        @keyframes loading {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .results-panel {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 102, 204, 0.2);
            border-radius: 20px;
            padding: 30px;
            animation: fadeInRight 1s ease-out;
            min-height: 600px;
        }

        .results-panel h2 {
            color: #0066cc;
            margin-bottom: 25px;
            font-size: 1.8em;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 1px solid rgba(0, 102, 204, 0.2);
        }

        .tab {
            padding: 12px 24px;
            background: transparent;
            border: none;
            color: #555;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            font-weight: 500;
        }

        .tab.active {
            color: #0066cc;
        }

        .tab.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, #0066cc, #3399ff);
        }

        .tab:hover {
            color: #333;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .treatment-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .treatment-card {
            background: rgba(230, 240, 250, 0.5);
            border: 1px solid rgba(0, 102, 204, 0.2);
            border-radius: 15px;
            padding: 20px;
            transition: all 0.3s;
            cursor: pointer;
        }

        .treatment-card:hover {
            transform: translateY(-5px);
            background: rgba(230, 240, 250, 0.7);
            box-shadow: 0 10px 30px rgba(0, 102, 204, 0.2);
        }

        .treatment-card.selected {
            border-color: #0066cc;
            background: rgba(0, 102, 204, 0.1);
        }

        .treatment-card h3 {
            color: #0066cc;
            margin-bottom: 10px;
        }

        .treatment-card p {
            color: #555;
            font-size: 0.9em;
        }

        .progress-container {
            margin-bottom: 25px;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .progress-bar {
            height: 8px;
            background: rgba(0, 102, 204, 0.1);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #0066cc, #3399ff);
            border-radius: 10px;
            transition: width 2s ease-out;
            position: relative;
            overflow: hidden;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmerProgress 2s infinite;
        }

        @keyframes shimmerProgress {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .chart-container {
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid rgba(0, 102, 204, 0.2);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            height: 300px;
            position: relative;
        }

        canvas {
            max-width: 100%;
            max-height: 250px;
        }

        .·Éö

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .metric-card {
            background: rgba(230, 240, 250, 0.5);
            border: 1px solid rgba(0, 102, 204, 0.2);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s;
        }

        .metric-card:hover {
            background: rgba(230, 240, 250, 0.7);
            transform: scale(1.05);
        }

        .metric-value {
            font-size: 2.5em;
            font-weight: bold;
            background: linear-gradient(135deg, #0066cc, #3399ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .metric-label {
            color: #555;
            margin-top: 10px;
        }

        .alert {
            background: rgba(255, 193, 7, 0.1);
            border: 1px solid #ffca28;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            display: none;
        }

        .alert.show {
            display: block;
            animation: slideDown 0.3s ease-out;
        }

        .alert-title {
            color: #ffca28;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .alert-text {
            color: #555;
            font-size: 0.9em;
        }

        .timeline {
            position: relative;
            padding: 20px 0;
        }

        .timeline-item {
            display: flex;
            margin-bottom: 30px;
            position: relative;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: 15px;
            top: 30px;
            bottom: -30px;
            width: 2px;
            background: rgba(0, 102, 204, 0.2);
        }

        .timeline-item:last-child::before {
            display: none;
        }

        .timeline-marker {
            width: 30px;
            height: 30px;
            background: linear-gradient(135deg, #0066cc, #3399ff);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            margin-right: 20px;
            box-shadow: 0 0 20px rgba(0, 102, 204, 0.3);
        }

        .timeline-content {
            flex: 1;
        }

        .timeline-content h4 {
            color: #0066cc;
            margin-bottom: 5px;
        }

        .timeline-content p {
            color: #555;
            font-size: 0.9em;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: white;
            margin: 5% auto;
            padding: 2rem;
            border-radius: 20px;
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
            animation: slideIn 0.5s ease-out;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            line-height: 1;
        }

        .close:hover {
            color: #e74c3c;
        }

        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #e6f0fa 0%, #d0e4ff 100%);
            z-index: -2;
        }

        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(0, 102, 204, 0.2);
            border-radius: 50%;
            animation: float 20s infinite linear;
        }

        @keyframes float {
            0% { transform: translateY(100vh) translateX(0); }
            100% { transform: translateY(-100vh) translateX(100px); }
        }

        .main-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
        }

        .header h1 {
            font-size: 3.5em;
            background: linear-gradient(135deg, #0066cc, #3399ff, #0066cc);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: shimmer 3s linear infinite;
            margin-bottom: 10px;
        }

        @keyframes shimmer {
            0% { background-position: 0% 50%; }
            100% { background-position: 200% 50%; }
        }

        .subtitle {
            color: #555;
            font-size: 1.2em;
        }

        @media (max-width: 968px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2.5em;
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes fadeInRight {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body>
    <div class="bg-animation"></div>
    <div class="particles" id="particles"></div>

    <header>
        <nav class="container">
            <div class="logo">üß¨ CancerTwin</div>
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#cancer-types">Cancer Types</a></li>
                <li><a href="#treatments">Treatments</a></li>
                <li><a href="#demo">Digital Twin Simulator</a></li>
                <li><a href="#research">Research</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="home" class="hero">
            <div class="container">
                <h1>Digital Twins in Oncology</h1>
                <p>Revolutionizing cancer care through personalized virtual patient models and AI-driven treatment optimization</p>
                <a href="#demo" class="cta-button">Try Advanced Digital Twin Demo</a>
            </div>
        </section>

        <section id="cancer-types" class="section">
            <div class="container">
                <h2>Cancer Types & Digital Twin Applications</h2>
                <div class="grid">
                    <div class="card breast" onclick="openModal('breast')">
                        <h3>üéóÔ∏è Breast Cancer</h3>
                        <p><strong>Focus:</strong> Triple-Negative Breast Cancer (TNBC)</p>
                        <p><strong>Digital Twin Applications:</strong> MRI-based treatment optimization, neoadjuvant therapy prediction</p>
                        <p><strong>Key Achievement:</strong> 20.95-24.76% improvement in pathological complete response rates</p>
                    </div>
                    <div class="card lung" onclick="openModal('lung')">
                        <h3>ü´Å Lung Cancer</h3>
                        <p><strong>Focus:</strong> Non-Small Cell Lung Cancer, Adenocarcinoma</p>
                        <p><strong>Digital Twin Applications:</strong> Cell electrophysiology modeling, treatment response prediction</p>
                        <p><strong>Key Achievement:</strong> Digital cell twins for A549 lung adenocarcinoma cells</p>
                    </div>
                    <div class="card head-neck" onclick="openModal('head-neck')">
                        <h3>üë§ Head & Neck Cancer</h3>
                        <p><strong>Focus:</strong> Oropharyngeal Squamous Cell Carcinoma</p>
                        <p><strong>Digital Twin Applications:</strong> Deep Q-learning optimization, radiation therapy planning</p>
                        <p><strong>Key Achievement:</strong> +3.73% survival improvement, -0.75% dysphagia reduction</p>
                    </div>
                    <div class="card blood" onclick="openModal('blood')">
                        <h3>ü©∏ Blood Cancers</h3>
                        <p><strong>Focus:</strong> Acute Myeloid Leukemia, Hematopoietic tumors</p>
                        <p><strong>Digital Twin Applications:</strong> G-CSF scheduling optimization, immunotherapy modeling</p>
                        <p><strong>Key Achievement:</strong> Optimized neutropenia management protocols</p>
                    </div>
                    <div class="card brain" onclick="openModal('brain')">
                        <h3>üß† Brain Cancer</h3>
                        <p><strong>Focus:</strong> High-grade Gliomas</p>
                        <p><strong>Digital Twin Applications:</strong> Radiotherapy optimization, tumor growth prediction</p>
                        <p><strong>Key Achievement:</strong> 6-day progression delay or 16.7% dose reduction</p>
                    </div>
                    <div class="card ovarian" onclick="openModal('ovarian')">
                        <h3>üî¨ Gynecologic Cancers</h3>
                        <p><strong>Focus:</strong> Ovarian, Cervical, Endometrial cancers</p>
                        <p><strong>Digital Twin Applications:</strong> AI-driven biomarker analysis, treatment response prediction</p>
                        <p><strong>Key Achievement:</strong> Enhanced diagnostic accuracy through deep learning</p>
                    </div>
                    <div class="card colorectal" onclick="openModal('colorectal')">
                        <h3>üéØ Colorectal Cancer</h3>
                        <p><strong>Focus:</strong> Precision oncology applications</p>
                        <p><strong>Digital Twin Applications:</strong> Treatment personalization, outcome prediction</p>
                        <p><strong>Key Achievement:</strong> Improved patient stratification methods</p>
                    </div>
                    <div class="card prostate" onclick="openModal('prostate')">
                        <h3>üîµ Prostate Cancer</h3>
                        <p><strong>Focus:</strong> Hormone-sensitive disease management</p>
                        <p><strong>Digital Twin Applications:</strong> Therapy selection optimization</p>
                        <p><strong>Key Achievement:</strong> Personalized treatment timing protocols</p>
                    </div>
                    <div class="card pancreatic" onclick="openModal('pancreatic')">
                        <h3>ü•û Pancreatic Cancer</h3>
                        <p><strong>Focus:</strong> Aggressive tumor management</p>
                        <p><strong>Digital Twin Applications:</strong> Multi-scale modeling, treatment optimization</p>
                        <p><strong>Key Achievement:</strong> Improved survival prediction accuracy</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="treatments" class="treatment-section">
            <div class="container">
                <h2 style="color: white;">Treatment Modalities & Side Effects</h2>
                <div class="treatment-grid">
                    <div class="treatment-card">
                        <h3>üíä Chemotherapy</h3>
                        <p>Systemic treatment using cytotoxic drugs to destroy cancer cells throughout the body.</p>
                        <div class="side-effects">
                            <h4>Common Side Effects:</h4>
                            <ul>
                                <li>Nausea and vomiting</li>
                                <li>Hair loss (alopecia)</li>
                                <li>Fatigue and weakness</li>
                                <li>Neutropenia (low white blood cells)</li>
                                <li>Anemia (low red blood cells)</li>
                                <li>Thrombocytopenia (low platelets)</li>
                                <li>Mucositis (mouth sores)</li>
                                <li>Diarrhea or constipation</li>
                            </ul>
                        </div>
                    </div>
                    <div class="treatment-card">
                        <h3>üéØ Targeted Therapy</h3>
                        <p>Drugs that specifically target cancer cell proteins, genes, or tissue environment.</p>
                        <div class="side-effects">
                            <h4>Common Side Effects:</h4>
                            <ul>
                                <li>Skin reactions and rashes</li>
                                <li>Hypertension</li>
                                <li>Bleeding and clotting issues</li>
                                <li>Liver toxicity</li>
                                <li>Heart problems</li>
                                <li>Gastrointestinal perforation</li>
                                <li>Hand-foot syndrome</li>
                                <li>Thyroid dysfunction</li>
                            </ul>
                        </div>
                    </div>
                    <div class="treatment-card">
                        <h3>üõ°Ô∏è Immunotherapy</h3>
                        <p>Treatments that harness the body's immune system to fight cancer cells.</p>
                        <div class="side-effects">
                            <h4>Common Side Effects:</h4>
                            <ul>
                                <li>Immune-related colitis</li>
                                <li>Pneumonitis</li>
                                <li>Hepatitis</li>
                                <li>Endocrine disorders</li>
                                <li>Skin reactions</li>
                                <li>Cytokine release syndrome</li>
                                <li>Neurological toxicity</li>
                                <li>Infusion reactions</li>
                            </ul>
                        </div>
                    </div>
                    <div class="treatment-card">
                        <h3>‚ò¢Ô∏è Radiation Therapy</h3>
                        <p>High-energy radiation to destroy cancer cells and shrink tumors.</p>
                        <div class="side-effects">
                            <h4>Common Side Effects:</h4>
                            <ul>
                                <li>Skin irritation and burns</li>
                                <li>Fatigue</li>
                                <li>Hair loss in treated area</li>
                                <li>Swallowing difficulties</li>
                                <li>Dry mouth (xerostomia)</li>
                                <li>Nausea</li>
                                <li>Radiation fibrosis</li>
                                <li>Secondary cancers (rare)</li>
                            </ul>
                        </div>
                    </div>
                    <div class="treatment-card">
                        <h3>üß¨ CAR-T Cell Therapy</h3>
                        <p>Genetically modified patient T-cells programmed to attack cancer cells.</p>
                        <div class="side-effects">
                            <h4>Common Side Effects:</h4>
                            <ul>
                                <li>Cytokine release syndrome</li>
                                <li>Neurotoxicity</li>
                                <li>B-cell aplasia</li>
                                <li>Tumor lysis syndrome</li>
                                <li>Infections</li>
                                <li>Prolonged cytopenias</li>
                                <li>Hypogammaglobulinemia</li>
                                <li>On-target, off-tumor toxicity</li>
                            </ul>
                        </div>
                    </div>
                    <div class="treatment-card">
                        <h3>üî¨ Hormone Therapy</h3>
                        <p>Blocks or lowers hormones that fuel certain types of cancer growth.</p>
                        <div class="side-effects">
                            <h4>Common Side Effects:</h4>
                            <ul>
                                <li>Hot flashes</li>
                                <li>Bone loss (osteoporosis)</li>
                                <li>Joint pain</li>
                                <li>Mood changes</li>
                                <li>Sexual dysfunction</li>
                                <li>Weight gain</li>
                                <li>Blood clots</li>
                                <li>Cognitive changes</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="demo" class="digital-twin-demo">
            <div class="container">
                <h2 style="color: white;">Advanced Interactive Digital Twin Simulator</h2>
                <div class="demo-container">
                    <p>Experience how digital twins personalize cancer treatment using patient-specific data. Updated with 2025 survival statistics.</p>
                    
                    <div class="dashboard">
                        <!-- Input Panel -->
                        <div class="input-panel">
                            <h2>Patient Parameters</h2>
                            
                            <div class="input-group">
                                <label>Gender</label>
                                <select id="patientGender">
                                    <option value="male">Male</option>
                                    <option value="female">Female</option>
                                </select>
                            </div>
                            
                            <div class="input-group">
                                <label>Cancer Type</label>
                                <select id="cancerType">
                                    <option value="lung">Lung Cancer (NSCLC)</option>
                                    <option value="breast">Breast Cancer (TNBC)</option>
                                    <option value="colorectal">Colorectal Cancer</option>
                                    <option value="prostate">Prostate Cancer</option>
                                    <option value="leukemia">Leukemia (AML)</option>
                                    <option value="brain">Brain Cancer (Glioma)</option>
                                    <option value="pancreatic">Pancreatic Cancer</option>
                                    <option value="ovarian">Ovarian Cancer</option>
                                </select>
                            </div>
                            
                            <div class="input-group">
                                <label>Patient Age</label>
                                <input type="number" id="patientAge" min="18" max="100" value="52">
                            </div>
                            
                            <div class="input-group">
                                <label>Disease Stage</label>
                                <select id="diseaseStage">
                                    <option value="1">Stage I</option>
                                    <option value="2">Stage II</option>
                                    <option value="3">Stage III</option>
                                    <option value="4">Stage IV</option>
                                </select>
                            </div>
                            
                            <div class="input-group">
                                <label>Biomarker Status</label>
                                <select id="biomarkerStatus">
                                    <option value="negative">Negative</option>
                                    <option value="positive">Positive</option>
                                    <option value="unknown">Unknown</option>
                                </select>
                            </div>
                            
                            <button class="advanced-toggle" onclick="toggleAdvanced()">
                                ‚öôÔ∏è Advanced Parameters
                            </button>
                            
                            <div class="advanced-options" id="advancedOptions">
                                <div class="input-group">
                                    <label>Tumor Size (cm)</label>
                                    <input type="number" id="tumorSize" min="0.1" max="20" step="0.1" value="3.5">
                                </div>
                                
                                <div class="input-group">
                                    <label>Ki-67 Index (%)</label>
                                    <input type="number" id="ki67" min="0" max="100" value="25">
                                </div>
                                
                                <div class="input-group">
                                    <label>Performance Status (ECOG)</label>
                                    <select id="performanceStatus">
                                        <option value="0">0 - Fully Active</option>
                                        <option value="1">1 - Restricted</option>
                                        <option value="2">2 - Ambulatory</option>
                                        <option value="3">3 - Limited Self-Care</option>
                                    </select>
                                </div>
                                
                                <div class="input-group">
                                    <label>Genomic Profile</label>
                                    <select id="genomicProfile">
                                        <option value="wild">Wild Type</option>
                                        <option value="egfr">EGFR Mutation</option>
                                        <option value="alk">ALK Fusion</option>
                                        <option value="kras">KRAS Mutation</option>
                                        <option value="her2">HER2 Amplification</option>
                                    </select>
                                </div>
                            </div>
                            
                            <button class="generate-btn" id="generateBtn" onclick="generateAnalysis()">
                                üî¨ Generate Digital Twin Analysis
                            </button>
                        </div>
                        
                        <!-- Results Panel -->
                        <div class="results-panel">
                            <h2>Digital Twin Analysis Results</h2>
                            
                            <div class="tabs">
                                <button class="tab active" onclick="switchTab('overview')">Overview</button>
                                <button class="tab" onclick="switchTab('treatments')">Treatment Options</button>
                                <button class="tab" onclick="switchTab('prediction')">Predictions</button>
                                <button class="tab" onclick="switchTab('timeline')">Timeline</button>
                            </div>
                            
                            <!-- Overview Tab -->
                            <div id="overview" class="tab-content active">
                                <div class="alert" id="alertBox">
                                    <div class="alert-title">‚ö†Ô∏è Clinical Alert</div>
                                    <div class="alert-text" id="alertText">High-risk patient profile detected</div>
                                </div>
                                
                                <div class="metrics-grid">
                                    <div class="metric-card">
                                        <div class="metric-value" id="survivalRate">--</div>
                                        <div class="metric-label">5-Year Survival</div>
                                    </div>
                                    <div class="metric-card">
                                        <div class="metric-value" id="responseRate">--</div>
                                        <div class="metric-label">Response Rate</div>
                                    </div>
                                    <div class="metric-card">
                                        <div class="metric-value" id="riskScore">--</div>
                                        <div class="metric-label">Risk Score</div>
                                    </div>
                                    <div class="metric-card">
                                        <div class="metric-value" id="qualityScore">--</div>
                                        <div class="metric-label">QoL Score</div>
                                    </div>
                                </div>
                                
                                <div class="chart-container">
                                    <canvas id="survivalChart"></canvas>
                                </div>
                            </div>
                            
                            <!-- Treatments Tab -->
                            <div id="treatments" class="tab-content">
                                <h3 style="margin-bottom: 20px; color: #0066cc;">Recommended Treatment Options</h3>
                                <div class="treatment-cards" id="treatmentCards">
                                    <!-- Dynamically populated -->
                                </div>
                                
                                <h3 style="margin-bottom: 20px; color: #0066cc;">Efficacy Comparison</h3>
                                <div class="progress-container">
                                    <div class="progress-label">
                                        <span>Chemotherapy</span>
                                        <span id="chemoEff">0%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" id="chemoBar" style="width: 0%"></div>
                                    </div>
                                </div>
                                
                                <div class="progress-container">
                                    <div class="progress-label">
                                        <span>Immunotherapy</span>
                                        <span id="immunoEff">0%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" id="immunoBar" style="width: 0%"></div>
                                    </div>
                                </div>
                                
                                <div class="progress-container">
                                    <div class="progress-label">
                                        <span>Targeted Therapy</span>
                                        <span id="targetedEff">0%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" id="targetedBar" style="width: 0%"></div>
                                    </div>
                                </div>
                                
                                <div class="progress-container">
                                    <div class="progress-label">
                                        <span>Radiation Therapy</span>
                                        <span id="radiationEff">0%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" id="radiationBar" style="width: 0%"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Predictions Tab -->
                            <div id="prediction" class="tab-content">
                                <h3 style="margin-bottom: 20px; color: #0066cc;">AI Prediction Models</h3>
                                
                                <div class="chart-container">
                                    <canvas id="predictionChart"></canvas>
                                </div>
                                
                                <div style="margin-top: 30px;">
                                    <h4 style="color: #4facfe; margin-bottom: 15px;">Side Effects Risk Analysis</h4>
                                    <div id="sideEffectsAnalysis">
                                        <!-- Dynamically populated -->
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Timeline Tab -->
                            <div id="timeline" class="tab-content">
                                <h3 style="margin-bottom: 20px; color: #0066cc;">Treatment Timeline</h3>
                                <div class="timeline" id="treatmentTimeline">
                                    <!-- Dynamically populated -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="research" class="section">
            <div class="container">
                <h2>Research Insights & Evidence</h2>
                <div class="grid">
                    <div class="card">
                        <h3>üìà Clinical Outcomes</h3>
                        <p>Digital twins have shown significant improvements in treatment outcomes across multiple cancer types, with response rate improvements of 20-25% in breast cancer studies.</p>
                    </div>
                    <div class="card">
                        <h3>üß† AI & Machine Learning</h3>
                        <p>Deep Q-learning and reinforcement learning algorithms achieve 87.35% accuracy in treatment prediction, revolutionizing clinical decision-making.</p>
                    </div>
                    <div class="card">
                        <h3>üî¨ Precision Medicine</h3>
                        <p>Integration of multiomics data, imaging biomarkers, and real-time monitoring enables truly personalized cancer care for each patient.</p>
                    </div>
                    <div class="card">
                        <h3>üí∞ Cost Reduction</h3>
                        <p>Virtual clinical trials and optimized treatment selection reduce healthcare costs while improving patient outcomes and quality of life.</p>
                    </div>
                    <div class="card">
                        <h3>‚ö° Real-time Adaptation</h3>
                        <p>Digital twins enable continuous monitoring and real-time treatment adjustments based on patient response and disease progression.</p>
                    </div>
                    <div class="card">
                        <h3>üß¨ CAR-T Therapy Optimization</h3>
                        <p>Digital twins represent a transformative approach for optimizing CAR-T cell therapy by providing a virtual representation of the therapy-tumor trajectory.</p>
                    </div>
                </div>
            </div>
        </section>

        <div id="cancerModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeModal()">&times;</span>
                <div id="modalContent"></div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 CancerTwin. All rights reserved. Data updated with latest 2025 statistics.</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <script>
        // Create floating particles
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 20 + 's';
                particle.style.animationDuration = (20 + Math.random() * 10) + 's';
                particlesContainer.appendChild(particle);
            }
        }
        createParticles();

        // Modal functionality
        function openModal(cancerType) {
            const modal = document.getElementById('cancerModal');
            const modalContent = document.getElementById('modalContent');
            
            const cancerData = {
                'breast': {
                    title: 'Breast Cancer (TNBC)',
                    focus: 'Triple-Negative Breast Cancer',
                    applications: 'MRI-based treatment optimization, neoadjuvant therapy prediction',
                    achievement: '20.95-24.76% improvement in pathological complete response rates',
                    details: 'Digital twins for TNBC integrate MRI imaging and molecular profiling to predict response to neoadjuvant chemotherapy, optimizing treatment plans and reducing unnecessary interventions.'
                },
                'lung': {
                    title: 'Lung Cancer (NSCLC)',
                    focus: 'Non-Small Cell Lung Cancer, Adenocarcinoma',
                    applications: 'Cell electrophysiology modeling, treatment response prediction',
                    achievement: 'Digital cell twins for A549 lung adenocarcinoma cells',
                    details: 'Lung cancer digital twins model tumor cell behavior and predict responses to targeted therapies, improving precision in treatment selection.'
                },
                'head-neck': {
                    title: 'Head & Neck Cancer',
                    focus: 'Oropharyngeal Squamous Cell Carcinoma',
                    applications: 'Deep Q-learning optimization, radiation therapy planning',
                    achievement: '+3.73% survival improvement, -0.75% dysphagia reduction',
                    details: 'AI-driven digital twins optimize radiation dosing schedules, minimizing side effects like dysphagia while improving survival outcomes.'
                },
                'blood': {
                    title: 'Blood Cancers (AML)',
                    focus: 'Acute Myeloid Leukemia, Hematopoietic tumors',
                    applications: 'G-CSF scheduling optimization, immunotherapy modeling',
                    achievement: 'Optimized neutropenia management protocols',
                    details: 'Digital twins for AML optimize growth factor administration and immunotherapy, reducing complications like neutropenia.'
                },
                'brain': {
                    title: 'Brain Cancer (Glioma)',
                    focus: 'High-grade Gliomas',
                    applications: 'Radiotherapy optimization, tumor growth prediction',
                    achievement: '6-day progression delay or 16.7% dose reduction',
                    details: 'Brain cancer digital twins predict tumor growth patterns and optimize radiotherapy, reducing radiation exposure while delaying disease progression.'
                },
                'ovarian': {
                    title: 'Gynecologic Cancers',
                    focus: 'Ovarian, Cervical, Endometrial cancers',
                    applications: 'AI-driven biomarker analysis, treatment response prediction',
                    achievement: 'Enhanced diagnostic accuracy through deep learning',
                    details: 'Digital twins analyze multiomics data to improve diagnostic precision and predict treatment responses for gynecologic cancers.'
                },
                'colorectal': {
                    title: 'Colorectal Cancer',
                    focus: 'Precision oncology applications',
                    applications: 'Treatment personalization, outcome prediction',
                    achievement: 'Improved patient stratification methods',
                    details: 'Digital twins enable precise patient stratification, tailoring treatments to individual tumor profiles for better outcomes.'
                },
                'prostate': {
                    title: 'Prostate Cancer',
                    focus: 'Hormone-sensitive disease management',
                    applications: 'Therapy selection optimization',
                    achievement: 'Personalized treatment timing protocols',
                    details: 'Prostate cancer digital twins optimize hormone therapy schedules, improving efficacy and patient quality of life.'
                },
                'pancreatic': {
                    title: 'Pancreatic Cancer',
                    focus: 'Aggressive tumor management',
                    applications: 'Multi-scale modeling, treatment optimization',
                    achievement: 'Improved survival prediction accuracy',
                    details: 'Digital twins for pancreatic cancer use multi-scale modeling to predict survival and optimize aggressive treatment strategies.'
                }
            };

            if (cancerData[cancerType]) {
                modalContent.innerHTML = `
                    <h2>${cancerData[cancerType].title}</h2>
                    <p><strong>Focus:</strong> ${cancerData[cancerType].focus}</p>
                    <p><strong>Digital Twin Applications:</strong> ${cancerData[cancerType].applications}</p>
                    <p><strong>Key Achievement:</strong> ${cancerData[cancerType].achievement}</p>
                    <p><strong>Details:</strong> ${cancerData[cancerType].details}</p>
                `;
                modal.style.display = 'block';
            }
        }

        function closeModal() {
            document.getElementById('cancerModal').style.display = 'none';
        }

        window.onclick = function(event) {
            const modal = document.getElementById('cancerModal');
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        };

        // Digital Twin Simulator
        let survivalChart = null;
        let predictionChart = null;

        function toggleAdvanced() {
            const options = document.getElementById('advancedOptions');
            options.classList.toggle('active');
        }

        function switchTab(tabName) {
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            const clickedTab = Array.from(tabs).find(tab => tab.getAttribute('onclick').includes(tabName));
            if (clickedTab) clickedTab.classList.add('active');
            
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => content.classList.remove('active'));
            const targetContent = document.getElementById(tabName);
            if (targetContent) {
                targetContent.classList.add('active');
            } else {
                console.error(`Tab content for ${tabName} not found`);
            }
        }

        function generateAnalysis() {
            const btn = document.getElementById('generateBtn');
            if (!btn) {
                console.error('Generate button not found');
                return;
            }
            btn.classList.add('loading');
            btn.innerHTML = '‚è≥ Analyzing Digital Twin...';
            setTimeout(() => {
                performAnalysis();
                btn.classList.remove('loading');
                btn.innerHTML = 'üî¨ Generate Digital Twin Analysis';
            }, 2000);
        }

        function performAnalysis() {
        const btn = document.getElementById('generateBtn');
        if (!btn) {
            console.error('Generate button not found');
            return;
        }
        btn.classList.add('loading');
        btn.innerHTML = '‚è≥ Analyzing Digital Twin...';
        setTimeout(() => {
            // Input validation
            const inputs = {
                gender: document.getElementById('patientGender')?.value || 'male',
                cancerType: document.getElementById('cancerType')?.value || 'lung',
                age: parseInt(document.getElementById('patientAge')?.value) || 52,
                stage: parseInt(document.getElementById('diseaseStage')?.value) || 1,
                biomarker: document.getElementById('biomarkerStatus')?.value || 'negative',
                tumorSize: parseFloat(document.getElementById('tumorSize')?.value) || 3.5,
                ki67: parseInt(document.getElementById('ki67')?.value) || 25,
                performance: parseInt(document.getElementById('performanceStatus')?.value) || 0,
                genomic: document.getElementById('genomicProfile')?.value || 'wild'
            };

            // 2025 ACS-inspired survival data
            const cancerFactors = {
                lung: { survival: 27, response: 65 },
                breast: { survival: 91, response: 75 },
                colorectal: { survival: 64, response: 70 },
                prostate: { survival: 97, response: 80 },
                leukemia: { survival: 61, response: 55 },
                brain: { survival: 33, response: 50 },
                pancreatic: { survival: 13, response: 40 },
                ovarian: { survival: 51, response: 60 }
            };

            let baseSurvival = cancerFactors[inputs.cancerType]?.survival || 50;
            let baseResponse = cancerFactors[inputs.cancerType]?.response || 50;
            let riskScore = 0;

            // Gender adjustments
            if (inputs.gender === 'female') {
                if (inputs.cancerType === 'breast' || inputs.cancerType === 'ovarian') {
                    baseSurvival += 5;
                    baseResponse += 5;
                } else {
                    baseSurvival -= 3;
                }
            } else if (inputs.gender === 'male') {
                if (inputs.cancerType === 'prostate') {
                    baseSurvival += 5;
                    baseResponse += 5;
                } else {
                    baseSurvival += 2;
                }
            }

            // Other adjustments
            baseSurvival -= (inputs.stage - 1) * 15;
            baseResponse -= (inputs.stage - 1) * 10;
            riskScore += inputs.stage * 20;

            if (inputs.age > 65) {
                baseSurvival -= 10;
                riskScore += 15;
            } else if (inputs.age < 40) {
                baseSurvival += 5;
                riskScore -= 10;
            }

            if (inputs.biomarker === 'positive') {
                baseResponse += 15;
                baseSurvival += 10;
                riskScore -= 10;
            } else if (inputs.biomarker === 'unknown') {
                riskScore += 5;
            }

            if (inputs.tumorSize > 5) {
                baseSurvival -= 10;
                baseResponse -= 5;
                riskScore += 15;
            }

            if (inputs.ki67 > 30) {
                baseSurvival -= 5;
                riskScore += 10;
            }

            baseSurvival -= inputs.performance * 8;
            baseResponse -= inputs.performance * 5;
            riskScore += inputs.performance * 10;

            const genomicFactors = {
                wild: { survival: 0, response: 0, risk: 0 },
                egfr: { survival: 10, response: 15, risk: -10 },
                alk: { survival: 8, response: 12, risk: -8 },
                kras: { survival: -5, response: -5, risk: 10 },
                her2: { survival: 5, response: 10, risk: -5 }
            };

            baseSurvival += genomicFactors[inputs.genomic].survival;
            baseResponse += genomicFactors[inputs.genomic].response;
            riskScore += genomicFactors[inputs.genomic].risk;

            // Clamp values
            baseSurvival = Math.max(5, Math.min(95, baseSurvival));
            baseResponse = Math.max(10, Math.min(95, baseResponse));
            riskScore = Math.max(0, Math.min(100, riskScore));

            // QoL Score
            let qualityScore = Math.round(100 - (riskScore / 2));
            qualityScore = Math.max(20, Math.min(95, qualityScore));

            // Update metrics
            const metrics = [
                { id: 'survivalRate', value: baseSurvival + '%' },
                { id: 'responseRate', value: baseResponse + '%' },
                { id: 'riskScore', value: riskScore },
                { id: 'qualityScore', value: qualityScore }
            ];
            metrics.forEach(metric => {
                const element = document.getElementById(metric.id);
                if (element) element.innerText = metric.value;
            });

            // Alert
            const alertBox = document.getElementById('alertBox');
            const alertText = document.getElementById('alertText');
            if (alertBox && alertText) {
                if (riskScore > 60) {
                    alertText.innerText = 'High-risk patient profile detected. Consider palliative care options.';
                    alertBox.classList.add('show');
                } else if (riskScore > 40) {
                    alertText.innerText = 'Moderate risk detected. Monitor closely.';
                    alertBox.classList.add('show');
                } else {
                    alertBox.classList.remove('show');
                }
            }

            // Treatment efficacies
            let chemoEff = Math.round(baseResponse * 0.7 + (inputs.stage * -5));
            let immunoEff = Math.round(baseResponse * (inputs.biomarker === 'positive' ? 1.2 : 0.8) + (inputs.genomic === 'kras' ? -10 : 5));
            let targetedEff = Math.round(baseResponse * (inputs.genomic !== 'wild' ? 1.3 : 0.6));
            let radiationEff = Math.round(baseResponse * (inputs.tumorSize < 4 ? 1.1 : 0.9) - (inputs.stage * 5));
            let carTEff = Math.round(baseResponse * (inputs.cancerType === 'leukemia' ? 1.2 : 0.7));
            let hormoneEff = Math.round(baseResponse * (inputs.cancerType === 'breast' || inputs.cancerType === 'prostate' ? 1.1 : 0.5));

            [chemoEff, immunoEff, targetedEff, radiationEff, carTEff, hormoneEff] = 
                [chemoEff, immunoEff, targetedEff, radiationEff, carTEff, hormoneEff].map(eff => Math.max(20, Math.min(95, eff)));

            // Update progress bars
            const progressBars = [
                { id: 'chemo', eff: chemoEff },
                { id: 'immuno', eff: immunoEff },
                { id: 'targeted', eff: targetedEff },
                { id: 'radiation', eff: radiationEff }
            ];
            progressBars.forEach(bar => {
                const effElement = document.getElementById(`${bar.id}Eff`);
                const barElement = document.getElementById(`${bar.id}Bar`);
                if (effElement && barElement) {
                    effElement.innerText = bar.eff + '%';
                    barElement.style.width = bar.eff + '%';
                }
            });

            // Populate treatment cards
            const treatmentCards = document.getElementById('treatmentCards');
            if (treatmentCards) {
                treatmentCards.innerHTML = ''; // Clear existing cards
                const treatments = [
                    { name: 'Chemotherapy', desc: 'Standard cytotoxic treatment', efficacy: chemoEff },
                    { name: 'Immunotherapy', desc: 'PD-1/PD-L1 inhibitors', efficacy: immunoEff },
                    { name: 'Targeted Therapy', desc: 'Mutation-specific inhibitors', efficacy: targetedEff },
                    { name: 'Radiation Therapy', desc: 'Localized radiation', efficacy: radiationEff },
                    { name: 'CAR-T Cell Therapy', desc: 'Genetically modified T-cells', efficacy: carTEff },
                    { name: 'Hormone Therapy', desc: 'Hormone-blocking treatment', efficacy: hormoneEff },
                    { name: 'Surgery', desc: 'Tumor resection (if applicable)', efficacy: inputs.stage < 3 ? 80 : 40 },
                    { name: 'Combination Therapy', desc: 'Chemo + Immuno', efficacy: Math.round((chemoEff + immunoEff) / 2 + 10) }
                ];
                treatments.forEach((treatment, index) => {
                    const card = document.createElement('div');
                    card.className = 'treatment-card';
                    card.setAttribute('data-treatment-id', index);
                    card.innerHTML = `
                        <h3>${treatment.name}</h3>
                        <p>${treatment.desc}</p>
                        <p>Efficacy: ${treatment.efficacy}%</p>
                    `;
                    card.addEventListener('click', () => {
                        document.querySelectorAll('.treatment-card').forEach(c => c.classList.remove('selected'));
                        card.classList.add('selected');
                    });
                    treatmentCards.appendChild(card);
                });
            } else {
                console.error('Treatment cards container not found');
            }

            // Survival chart
            if (survivalChart) survivalChart.destroy();
            const survivalCtx = document.getElementById('survivalChart')?.getContext('2d');
            if (survivalCtx) {
                survivalChart = new Chart(survivalCtx, {
                    type: 'line',
                    data: {
                        labels: ['Year 1', 'Year 2', 'Year 3', 'Year 4', 'Year 5'],
                        datasets: [{
                            label: 'Survival Probability',
                            data: [baseSurvival, baseSurvival * 0.9, baseSurvival * 0.8, baseSurvival * 0.7, baseSurvival * 0.6].map(Math.round),
                            borderColor: '#4facfe',
                            backgroundColor: 'rgba(79, 172, 254, 0.2)',
                            tension: 0.4,
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: {
                            y: { beginAtZero: true, max: 100 }
                        }
                    }
                });
            }

            // Prediction chart
            if (predictionChart) predictionChart.destroy();
            const predictionCtx = document.getElementById('predictionChart')?.getContext('2d');
            if (predictionCtx) {
                predictionChart = new Chart(predictionCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Chemo', 'Immuno', 'Targeted', 'Radiation', 'CAR-T', 'Hormone'],
                        datasets: [{
                            label: 'Predicted Efficacy',
                            data: [chemoEff, immunoEff, targetedEff, radiationEff, carTEff, hormoneEff],
                            backgroundColor: 'rgba(102, 126, 234, 0.7)',
                            borderColor: '#667eea',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: {
                            y: { beginAtZero: true, max: 100 }
                        }
                    }
                });
            }

            // Side effects
            const sideEffects = [
                { effect: 'Nausea', risk: riskScore > 50 ? 'High' : 'Medium' },
                { effect: 'Fatigue', risk: 'High' },
                { effect: 'Hair Loss', risk: chemoEff > 60 ? 'High' : 'Low' },
                { effect: 'Immune Reaction', risk: immunoEff > 70 ? 'Medium' : 'Low' },
                { effect: 'Skin Irritation', risk: radiationEff > 50 ? 'Medium' : 'Low' },
                { effect: 'Cytokine Syndrome', risk: carTEff > 60 ? 'Medium' : 'Low' },
                { effect: 'Hot Flashes', risk: hormoneEff > 50 && (inputs.cancerType === 'breast' || inputs.cancerType === 'prostate') ? 'High' : 'Low' }
            ];

            const sideEffectsAnalysis = document.getElementById('sideEffectsAnalysis');
            if (sideEffectsAnalysis) {
                sideEffectsAnalysis.innerHTML = '';
                sideEffects.forEach(se => {
                    const p = document.createElement('p');
                    p.innerHTML = `<strong>${se.effect}:</strong> ${se.risk} risk`;
                    p.style.color = se.risk === 'High' ? '#ffc107' : '#555';
                    sideEffectsAnalysis.appendChild(p);
                });
            }

            // Timeline
            const timelineItems = [
                { week: 0, desc: 'Initial Diagnosis & Staging' },
                { week: 1, desc: 'Treatment Planning & Digital Twin Simulation' },
                { week: 2, desc: 'Start Primary Treatment (e.g., Chemo/Immuno)' },
                { week: 6, desc: 'Mid-Treatment Evaluation' },
                { week: 12, desc: 'Complete Primary Cycle' },
                { week: 13, desc: 'Follow-up Imaging & Biomarkers' },
                { week: 24, desc: 'Maintenance Therapy if Needed' }
            ];

            const treatmentTimeline = document.getElementById('treatmentTimeline');
            if (treatmentTimeline) {
                treatmentTimeline.innerHTML = '';
                timelineItems.forEach((item, index) => {
                    const div = document.createElement('div');
                    div.className = 'timeline-item';
                    div.innerHTML = `
                        <div class="timeline-marker">${index + 1}</div>
                        <div class="timeline-content">
                            <h4>Week ${item.week}</h4>
                            <p>${item.desc}</p>
                        </div>
                    `;
                    treatmentTimeline.appendChild(div);
                });
            }

            switchTab('overview');
            btn.classList.remove('loading');
            btn.innerHTML = 'üî¨ Generate Digital Twin Analysis';
        }, 2000);
    }
    </script>
</body>
</html>